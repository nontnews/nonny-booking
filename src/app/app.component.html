<head>
  <link rel="stylesheet" href="app.component.css">
</head>
<div class="container " >
  <div class="row">
    <h1>Book a Flight</h1>
    <form [formGroup]="bk">
      <div class="fnbox">
        <label class="name">Full Name</label>
        <span *ngIf="bk.get('fullName')?.errors?.['required']"></span><br>
        <input type="text" formControlName="fullName" class="form-control">
      </div>
      <div class="fromcontainer">
        <div>
          <label >From</label><span  *ngIf="bk.get('from')?.errors?.['required']"></span><br>
          <select name="from" id="from" formControlName="from" class="form-select">
            <option value="Thailand">Thailand</option>
            <option value="Korea">Korea</option>
            <option value="France">France</option>
            <option value="Germany">Germany</option>
            <option value="Italy">Italy</option>
          </select>
        </div>
        <div>
          <label >To</label><span *ngIf="bk.get('to')?.errors?.['required']"></span><br>
          <select name="to" id="to" formControlName="to" class="form-select" >
            <option value="Thailand">Thailand</option>
            <option value="Korea">Korea</option>
            <option value="Franced">France</option>
            <option value="Germany">Germany</option>
            <option value="Italy">Italy</option>
          </select>
        </div>
      </div>

      <div class="container2">
        <div class="trip">
          <label class="mb-2">Trip Type</label><span *ngIf="bk.get('type')?.errors?.['required']"></span><br>
          <input type="radio" value="One way" class="mx-1" formControlName="type">
          <label class="mx-1">One way</label>
          <input type="radio" value="Return" class="mx-1" formControlName="type">
          <label class="mx-1">Return</label>
        </div>
        <div class="depart">
          <label>Departure</label>
          <span *ngIf="bk.get('departure')?.errors?.['required']"></span><br>
          <mat-form-field appearance="fill">
            <mat-label>Departure Date</mat-label>
            <input matInput [matDatepicker]="picker1" formControlName="departure" [min]="">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>

        <div style="margin-left:20px">
          <label>Arival</label>
          <span *ngIf="bk.get('arrival')?.errors?.['required']"></span><br>
          <mat-form-field appearance="fill">
            <mat-label>Arival Date</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="arrival" [min]="bk.value.departure">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div >
        <div class="container3">
          <div >
            <label>Adults</label>
            <span style="color: red" *ngIf="bk.get('adults')?.errors?.['required']">*required</span>
            <span style="color: red" *ngIf="bk.get('adults')?.errors?.['max']">*Max 10 seats</span>
            <input type="number" formControlName="adults" class="form-control input-sm w-60" value="0">
          </div>
          <div >
            <label>Children</label>
            <span style="color: red" *ngIf="bk.get('children')?.errors?.['required']">*required</span>
            <span style="color: red" *ngIf="bk.get('children')?.errors?.['max']">*Max 10 seats</span>
            <input type="number" formControlName="children" class="form-control input-sm w-60" value="0">
          </div>
          <div>
            <label>infants</label>
            <span style="color: red" *ngIf="bk.get('infants')?.errors?.['required']">*required</span>
            <span style="color: red" *ngIf="bk.get('infants')?.errors?.['max']">*Max 10 seats</span>
            <input type="number" formControlName="infants" class="form-control input-sm w-60" value="0">
          </div>
        </div>
      </div>
      <div class="text-center">
        <button class="btn btn-primary mt-4 w-50" [disabled]="bk.invalid" (click)="submit(bk)">Submit</button>
      </div>
    </form>

    <table class="table mt-5 text-center">
      <thead>
        <tr>
          <th scope="col">Full Name</th>
          <th scope="col">From</th>
          <th scope="col">To</th>
          <th scope="col">Type</th>
          <th scope="col">Departure</th>
          <th scope="col">Arrival</th>
          <th scope="col">Adults</th>
          <th scope="col">Children</th>
          <th scope="col">Infants</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let f of arr">
          <td>{{ f.fullName }}</td>
          <td>{{ f.from }}</td>
          <td>{{ f.to }}</td>
          <td>{{ f.type }}</td>
          <td>{{ f.departure.getDate() + '/' + (f.departure.getMonth() + 1) + '/' + (f.departure.getFullYear()+543) }}</td>
          <td>{{ f.arrival.getDate() + '/' + (f.arrival.getMonth() + 1) + '/' + (f.arrival.getFullYear()+543) }}</td>
          <td>{{ f.adults }}</td>
          <td>{{ f.children }}</td>
          <td>{{ f.infants }}</td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
